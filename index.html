<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>
    <title>
      Quang's Medic
    </title>
    <link href="css/style.css" media="screen" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600&display=swap" rel="stylesheet">
  </head>
  <body class='index'>
    <nav class="navbar sticky-top navbar-dark bg-primary">
      <a class="navbar-brand logo" href="#" style="padding: 4px 25px">Quang's Medic</a>
      <form class="form-inline my-2 my-lg-0">
        <a href="https://fb.com/quang.lebaminh" target="_blank" class="btn btn-light" type="submit">@quang.lebaminh</a>
      </form>
    </nav>

    <div class='container'>
      <div ng-app='mainApp' ng-controller='mainAppCtrl'>
        <header class="logo">
          <h1>Quang's Medic</h1>
        </header>
        <section class='searchField card' style="max-width: 60em">
          <form ng-submit='search()' class="card-body">
            
            <div class="row">
              <div class="col-sm-4">
                <p>Medicine</p>
                <input ng-model='searchTerm' type='text' class="form-control earch-box">
              </div>

              <!-- <div class="col-sm-2">
                <p>Patient Age</p>
                <input type='number' class="form-control" min="1" max="99" style="max-width: 100px">
              </div> -->

              <div class="col-sm-3">
                <p>Patient Gender</p>
                 <input type="radio" id="all" name="gender" value="M" ng-checked="gender == 0" ng-click="gender = 0">
                <label for="all">All</label><br>
                <input type="radio" id="male" name="gender" value="M" ng-checked="gender == 1" ng-click="gender = 1">
                <label for="male">Male</label><br>
                <input type="radio" id="female" name="gender" value="F" ng-checked="gender == 2" ng-click="gender = 2">
                <label for="female">Female</label>
              </div>

              

              <!-- <div class="col-sm-3">
                <p>&nbsp;</p>
                <input type='submit' value='Search' class="btn btn-primary">
              </div> -->

            </div>
            

          </form>

          <ul class="list-group list-group-flush text-right">
            <li class="list-group-item">
              <input ng-click="search()" class="btn btn-primary" value="Search" type="submit" style="min-width: 8em">
            </li>
          </ul>

        </section>
        <section class='results'>
          <div class='no-results' ng-hide='results.length'>No results</div>

          <div class="row">
            

            <article class='result card col-sm-5 shadow p-3 mb-5 bg-white rounded' ng-cloak ng-repeat='result in patients' style="margin: 10px">
              <div class="card-header">Patient Infomation</div>
              <div class="card-body">
                <h2>
                  <a ng-href='#!'>Patient {{result.subject_id}}</a>
                </h2>
                <ul class="list-group">
                  <li class="list-group-item">gender: {{result.gender}}</li>
                  <li class="list-group-item">dob: {{result.dob}}</li>
                  <li class="list-group-item">dod: {{result.dod}}</li>
                  <li class="list-group-item">dod_hosp: {{result.dod_hosp}}</li>
                  <li class="list-group-item">Prescription:
                    <ul ng-repeat='prescription in result.prescriptions'>
                      <li>drug: {{ prescription.drug }}</li>
                      <li>dose: {{ prescription.dose_val_rx }} {{ prescription.dose_unit_rx }}</li>
                      <li>drug_type: {{ prescription.drug_type }}</li>
                      <li>prod_strength: {{ prescription.prod_strength }}</li>
                      <li>startdate: {{ prescription.startdate }}</li>
                      <li>enddate: {{ prescription.enddate }}</li>
                    </ul>
                  </li>
                </ul>
              </div>
            </article>

          </div>
      

          <div class='load-more' ng-cloak ng-hide='allResults'>
            <a ng-click='loadMore()' class="btn btn-light">More...</a>
          </div>
        </section>
        <footer>
          Made By
          <a href='https://fb.com/quang.lebaminh' target="_blank">Quang</a>
        </footer>
      </div>
    </div>
    <script src="components/angular/angular.js" type="text/javascript"></script>
    <script src="components/elasticsearch/elasticsearch.angular.js" type="text/javascript"></script>
    <script src="js/script.js" type="text/javascript"></script>
  </body>
</html>
